{"version":3,"sources":["utils.js","Components/person/Person.js","Components/tablePeople/TablePeople.js","App.js","index.js"],"names":["getData","_ref","Object","asyncToGenerator","regenerator_default","a","mark","_callee","response","wrap","_context","prev","next","fetch","sent","abrupt","json","stop","apply","this","arguments","Person","_this$props","props","_this$props$person","person","id","name","sex","age","born","died","century","father","mother","children","onClick","selectedId","react_default","createElement","Table","Row","active","textAlign","data-person-id","Cell","className","map","child","index","length","concat","Component","TablePeople","state","selectedPersonId","selectPerson","event","_this","setState","currentTarget","dataset","personId","_this2","people","celled","selectable","Header","HeaderCell","Body","person_Person","key","Math","random","App","filteredPeople","filterValue","sortValue","getPeople","getFilterQuery","getSortQuery","outputData","createSelector","filterQuery","sortQuery","filter","toLowerCase","includes","sort","b","localeCompare","loadData","prepearedPeople","_objectSpread","ceil","changeFilterValue","target","value","changeSortValue","textContent","doneData","Fragment","Input","placeholder","onChange","Button","tablePeople_TablePeople","React","ReactDOM","render","src_App_0","test","document","getElementById"],"mappings":"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","file":"static/js/main.e23a20a9.chunk.js","sourcesContent":["export const getData = async () => {\n  const response = await fetch('/api/people.json');\n  return response.json();\n};\n","import React, {Component} from 'react';\nimport { Table } from 'semantic-ui-react';\n\nclass Person extends Component {\n  render() {\n    const { person: { id, name, sex, age, born, died, century, father, mother, children },\n      onClick, selectedId } = this.props;\n\n    return (\n      <Table.Row\n        active={selectedId === id} textAlign=\"center\"\n        onClick={onClick} data-person-id={id}>\n        <Table.Cell>{id}</Table.Cell>\n        <Table.Cell className={born < 1650\n          ? 'wasBornBefore1650'\n          : null}>{name}\n        </Table.Cell>\n        <Table.Cell >{sex === 'm'\n          ? <span>&#128102;&#127999;</span>\n          : <span>&#128129;</span>}\n        </Table.Cell>\n        <Table.Cell className={age >= 65\n          ? 'ageMore65'\n          : null}>{age}\n        </Table.Cell>\n        <Table.Cell>{born}</Table.Cell>\n        <Table.Cell>{died}</Table.Cell>\n        <Table.Cell>{century}</Table.Cell>\n        <Table.Cell>{mother}</Table.Cell>\n        <Table.Cell>{father}</Table.Cell>\n        <Table.Cell>\n          {children.map((child, index) => children.length - 1 !== index ? `${child.name}, ` : child.name)}\n        </Table.Cell>\n      </Table.Row>\n    );\n  }\n}\n\nexport default Person;\n","import React, { Component } from 'react';\nimport { Table } from 'semantic-ui-react';\nimport Person from '../person/Person';\n\nclass TablePeople extends Component {\n  state = {\n    selectedPersonId: null,\n  };\n\n  selectPerson = (event) => {\n    this.setState({\n      selectedPersonId: +event.currentTarget.dataset.personId,\n    });\n  };\n\n  render() {\n    const { people } = this.props;\n    const { selectedPersonId } = this.state;\n\n    return (\n      <Table celled selectable>\n        <Table.Header>\n          <Table.Row textAlign=\"center\">\n            <Table.HeaderCell>id</Table.HeaderCell>\n            <Table.HeaderCell>Name</Table.HeaderCell>\n            <Table.HeaderCell>Sex</Table.HeaderCell>\n            <Table.HeaderCell>Age</Table.HeaderCell>\n            <Table.HeaderCell>Born</Table.HeaderCell>\n            <Table.HeaderCell>Died</Table.HeaderCell>\n            <Table.HeaderCell>Century</Table.HeaderCell>\n            <Table.HeaderCell>Mother</Table.HeaderCell>\n            <Table.HeaderCell>Father</Table.HeaderCell>\n            <Table.HeaderCell>Children</Table.HeaderCell>\n          </Table.Row>\n        </Table.Header>\n\n        <Table.Body>\n          {people.map((person, index) => (\n            <Person\n              key={Math.random()}\n              person={person}\n              personId={index + 1}\n              onClick={this.selectPerson}\n              selectedId={selectedPersonId}\n            />\n          ))}\n        </Table.Body>\n      </Table>\n    );\n  }\n}\n\nexport default TablePeople;\n","import React from 'react';\nimport './App.css';\nimport { Input, Button } from 'semantic-ui-react';\nimport { createSelector } from 'reselect';\nimport { getData } from './utils';\nimport TablePeople from './Components/tablePeople/TablePeople';\n\nclass App extends React.Component {\n  state = {\n    people: [],\n    filteredPeople: [],\n    filterValue: '',\n    sortValue: null,\n  };\n\n  componentDidMount() {\n    this.loadData();\n  }\n\n  getPeople = state => state.people;\n\n  getFilterQuery = state => state.filterValue;\n\n  getSortQuery = state => state.sortValue;\n\n  outputData = createSelector(\n    [this.getPeople, this.getFilterQuery, this.getSortQuery],\n    (people, filterQuery, sortQuery) => {\n      const filteredPeople = people.filter(person =>\n        person.name.toLowerCase().includes(filterQuery.toLowerCase())\n        || person.father.toLowerCase().includes(filterQuery.toLowerCase())\n        || person.mother.toLowerCase().includes(filterQuery.toLowerCase()));\n\n      switch (sortQuery) {\n        case 'id':\n          return filteredPeople.sort((a, b) => a.id - b.id);\n        case 'name':\n          return filteredPeople.sort((a, b) => a.name.localeCompare(b.name));\n        case 'sex':\n          return filteredPeople.sort((a, b) => a.sex.localeCompare(b.sex));\n        case 'age':\n          return filteredPeople.sort((a, b) => a.age - b.age);\n        case 'born':\n          return filteredPeople.sort((a, b) => a.born - b.born);\n        case 'died':\n          return filteredPeople.sort((a, b) => a.died - b.died);\n        case 'century':\n          return filteredPeople.sort((a, b) => a.century - b.century);\n        default:\n          return filteredPeople;\n      }\n    }\n  );\n\n  loadData = async () => {\n    const people = await getData();\n    const prepearedPeople = people.map((person, index) => ({\n      ...person,\n      id: index + 1,\n      age: person.died - person.born,\n      century: Math.ceil(person.died / 100),\n      father: person.father ? person.father : '',\n      mother: person.mother ? person.mother : '',\n      children: people.filter(child => child.father === person.name || child.mother === person.name),\n    }));\n\n    this.setState({\n      people: prepearedPeople,\n      filteredPeople: prepearedPeople,\n    });\n  };\n\n  changeFilterValue = (event) => {\n    this.setState({\n      filterValue: event.target.value,\n    });\n  };\n\n  changeSortValue = (event) => {\n    this.setState({\n      sortValue: event.target.textContent,\n    });\n  };\n\n\n  render() {\n    const { filterValue } = this.state;\n    const doneData = this.outputData(this.state);\n\n    return (\n      <>\n        <div className=\"wrapper-input\">\n          <Input className=\"item\"\n                 placeholder=\"Keyboard filter by name, mother and father\"\n                 value={filterValue} onChange={this.changeFilterValue} />\n        </div>\n        <h2>Filter by :</h2>\n        <div className=\"wrapper\">\n        <Button onClick={this.changeSortValue}>id</Button>\n        <Button onClick={this.changeSortValue}>name</Button>\n        <Button onClick={this.changeSortValue}>sex</Button>\n        <Button onClick={this.changeSortValue}>age</Button>\n        <Button onClick={this.changeSortValue}>born</Button>\n        <Button onClick={this.changeSortValue}>century</Button>\n      </div>\n        <TablePeople people={doneData}/>\n      </>\n    );\n  }\n}\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './App';\n\nReactDOM.render(<App test={123} />, document.getElementById('root'));\n"],"sourceRoot":""}